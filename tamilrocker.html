<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SK MOVIES</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        :root {
            --primary-color: #ff0000;
            --background-color: #141414;
            --text-color: #ffffff;
            --secondary-text: #a0a0a0;
            --nav-bg: #000000;
        }

        * {margin:0; padding:0; box-sizing:border-box; font-family:Arial, sans-serif;}
        body {
            background-color: var(--background-color);
            color: var(--text-color);
            padding-bottom: 60px;
            padding-top: 50px;
        }

        /* --- Top Navigation --- */
        #top-nav {
            position: fixed; top:0; left:0; width:100%; height:50px;
            background-color: var(--nav-bg);
            display:flex; justify-content:space-between; align-items:center;
            padding:0 15px; z-index:100;
        }
        #top-nav .logo {
            color:var(--primary-color); font-size:1.8em; font-weight:bold; text-decoration:none;
            font-family:'Georgia', serif;
        }
        #top-nav .nav-icon {color:var(--text-color); cursor:pointer; font-size:28px;}

        /* --- Hero Section --- */
        #hero-section {
            background-size: cover; background-position: center top; height:50vh;
            display:flex; flex-direction:column; justify-content:flex-end;
            padding:20px; position:relative;
        }
        #hero-section::before {
            content:''; position:absolute; top:0; left:0; right:0; bottom:0;
            background:linear-gradient(to top, var(--background-color) 0%, transparent 100%);
        }
        .hero-content {z-index:1;}
        .hero-buttons {display:flex; gap:15px; margin-top:10px;}
        .hero-btn {
            padding:10px 20px; border:none; border-radius:5px; font-size:1em;
            cursor:pointer; display:flex; align-items:center; gap:5px;
            font-weight:bold; text-decoration:none;
        }
        .play-btn {background-color:var(--text-color); color:var(--nav-bg);}
        .info-btn {background-color:rgba(109,109,110,0.7); color:var(--text-color);}

        /* --- Movie Rows --- */
        .movie-row {padding:20px 0;}
        .row-title {font-size:1.2em; margin-bottom:15px; padding-left:10px; font-weight:bold;}
        .movie-list {
            display:flex;
            overflow-x:scroll; /* Ensure Horizontal Scrolling */
            gap:10px; padding:5px 10px;
            scrollbar-width:none;
        }
        .movie-list::-webkit-scrollbar {display:none;}
        .movie-item {flex-shrink:0; width:120px; transition:transform 0.3s ease; text-decoration:none; color:inherit;}
        .movie-item:hover {transform:scale(1.05);}
        .poster {width:100%; height:180px; border-radius:5px; object-fit:cover; background-color:#333;}

        /* --- Top 10 Style --- */
        .top-10-item {width:150px; display:flex; align-items:center; text-decoration:none; color:inherit;}
        .top-10-number {
            font-size:8em; font-weight:bold; color:#222;
            -webkit-text-stroke:4px var(--text-color); line-height:1; margin-right:-10px;
        }
        .top-10-poster {width:100px; height:150px; border-radius:5px; object-fit:cover;}

        /* --- Download Page --- */
        #download-page {padding:20px; text-align:center; min-height:90vh;}
        .download-poster {width:80%; max-width:300px; border-radius:8px; margin-bottom:20px;}
        .download-title {font-size:1.8em; margin-bottom:10px;}
        .download-description {color:var(--secondary-text); margin-bottom:30px;}
        .download-btn {
            display:inline-flex; align-items:center; padding:15px 30px; background-color:#0088cc;
            color:var(--text-color); text-decoration:none; font-size:1.2em; font-weight:bold; border-radius:5px;
        }
        .download-btn:hover {background-color:#00aaff;}
        .back-btn-dl {position:absolute; top:60px; left:15px; color:var(--text-color); text-decoration:none;}

        /* --- Search Page --- */
        #search-page {padding:20px;}
        .search-input-container {
            display:flex; align-items:center; background-color:#333; border-radius:8px;
            padding:5px 10px; margin-bottom:20px;
        }
        #search-input {
            flex-grow:1; background:none; border:none; color:var(--text-color);
            padding:10px; font-size:1em; outline:none;
        }
        .search-icon {color:var(--secondary-text);}
        #search-results {
            display:grid; grid-template-columns:repeat(auto-fill, minmax(110px, 1fr));
            gap:15px 10px; padding:10px 0;
        }
        .search-result-item {text-align:center; text-decoration:none; color:var(--text-color); font-size:0.8em;}
        .search-result-item .poster {height:160px; margin-bottom:5px;}

        /* --- Bottom Navigation --- */
        .bottom-nav {
            position:fixed; bottom:0; left:0; width:100%; height:60px;
            background-color:var(--nav-bg); border-top:1px solid #222;
            display:flex; justify-content:space-around; align-items:center;
        }
        .nav-item {
            display:flex; flex-direction:column; align-items:center; text-decoration:none;
            color:var(--secondary-text); font-size:0.7em; transition:color 0.2s; flex-grow:1;
        }
        .nav-item.active {color:var(--text-color);}
        .nav-item .material-icons {font-size:24px; margin-bottom:2px;}
    </style>
</head>
<body>
    <header id="top-nav">
        <a href="#" class="logo" onclick="showView('home-page','home');return false;">SK MOVIES</a>
        <i class="material-icons nav-icon" onclick="showView('search-page','search')">search</i>
    </header>

    <div id="home-page"><main id="movie-content"></main></div>

    <div id="download-page" style="display:none;">
        <a href="#" class="back-btn-dl" onclick="showView('home-page','home');return false;">
            <i class="material-icons" style="font-size:30px;">arrow_back</i>
        </a>
        <div style="padding-top:50px;">
            <img id="download-movie-img" src="" class="download-poster">
            <h1 id="download-movie-name" class="download-title"></h1>
            <p id="download-movie-desc" class="download-description"></p>
            <a id="download-movie-btn" href="#" target="_blank" class="download-btn">
                <i class="material-icons" style="margin-right:8px;">telegram</i> DOWNLOAD
            </a>
        </div>
    </div>

    <div id="search-page" style="display:none;">
        <div class="search-input-container">
            <i class="material-icons search-icon">search</i>
            <input type="text" id="search-input" placeholder="Search for movies, series...">
        </div>
        <div id="search-results"></div>
    </div>

    <nav class="bottom-nav">
        <a href="#" class="nav-item active" data-view="home-page" data-nav-category="home">
            <i class="material-icons">home</i><span>Home</span>
        </a>
        <a href="#" class="nav-item" id="footerMovies" data-view="home-page" data-nav-category="movies">
            <i class="material-icons">local_movies</i><span>Movies</span>
        </a>
        <a href="#" class="nav-item" data-view="home-page" data-nav-category="anime">
            <i class="material-icons">auto_stories</i><span>Anime</span>
        </a>
        <a href="#" class="nav-item" data-view="home-page" data-nav-category="cartoon">
            <i class="material-icons">child_friendly</i><span>Cartoons</span>
        </a>
        <a href="#" class="nav-item" data-view="home-page" data-nav-category="webseries">
            <i class="material-icons">live_tv</i><span>Webseries</span>
        </a>
        <a href="#" class="nav-item" data-view="search-page" data-nav-category="search">
            <i class="material-icons">search</i><span>Search</span>
        </a>
    </nav>

    <script>
        const IMAGE_BASE_URL = '';
        // --- Movie Data Array ---
       const movies = [
              { 
              title: "Dude (2025) HQ Print Tamil", 
            description: "", 
            categories: ["recent", "action", "comedy","top10"], 
            rank: 1, 
            image: "dude.jpeg", 
            telegramLink: "https://tnseries.com/8EpwgK"
           },
           { 
              title: "Thanal (2025) HD Tamil", 
            description: "", 
            categories: ["recent", "action", "thriller","top10"], 
            rank: 2, 
            image: "thanal.jpeg", 
            telegramLink: "https://tnseries.com/8EpwgK"
           },
            { 
              title: "Diesel (2025) HQ Print Tamil", 
            description: "", 
            categories: ["recent", "action", "thriller","top10"], 
            rank: 3, 
            image: "diesel.jpeg", 
            telegramLink: "https://tnseries.com/8EpwgK"
           },
             
            { 
              title: "BIGG BOSS (Tamil) S09", 
            description: "", 
            categories: ["recent", ], 
            rank: 0, 
            image: "bigg boss.jpeg", 
            telegramLink: "https://tnseries.com/KZRKV"
           },
           { 
              title: "Veduvan (2025) S01 EP (01-07) Tamil", 
            description: "", 
            categories: ["recent", "webseries", "thriller"], 
            rank: 0, 
            image: "veduvan.jpeg", 
            telegramLink: "https://tnseries.com/4VIGAvOn"
           },
          { 
              title: "Rambo (2025) Tamil", 
            description: "", 
            categories: ["recent", "action", "top10"], 
            rank: 4, 
            image: "rambo.jpeg", 
            telegramLink: "https://tnseries.com/z0hu4Q7"
           },
           { 
              title: "Mirai (2025) Tamil", 
            description: "", 
            categories: ["recent", "action", "top10"], 
            rank: 5, 
            image: "mirai.jpeg", 
            telegramLink: "https://tnseries.com/gf6b"
           },
           { 
              title: "Bomb (2025) Tamil", 
            description: "", 
            categories: ["recent","comedy","top10"], 
            rank: 6, 
            image: "bomb.jpeg", 
            telegramLink: "https://tnseries.com/MkVwsq"
           },
           { 
              title: "Police Police (2025) S01 EP", 
            description: "", 
            categories: ["recent", "comedy","webseries", "top10"], 
            rank: 7, 
            image: "police police.jpeg", 
            telegramLink: "https://tnseries.com/NBN0kqPL"
           },
           { 
              title: "The Game: You Never Play Alone (2025) S01 EP (01-07)", 
            description: "", 
            categories: ["recent", "action", "webseries","top10"], 
            rank: 8, 
            image: "the game.jpeg", 
            telegramLink: "https://tnseries.com/Rwt70Ou"
           },
           
           { 
              title: "War 2 (2025) Tamil", 
            description: "", 
            categories: ["recent", "action", "top10"], 
            rank: 9, 
            image: "war2.jpeg", 
            telegramLink: "https://tnseries.com/wmlMPz"
           },
           { 
              title: "Heart Beat (2025) S02 EP", 
            description: "", 
            categories: ["recent", "webseries", "top10","comedy"], 
            rank: 10, 
            image: "heart beat2.jpeg", 
            telegramLink: "https://tnseries.com/wiV3mi"
           },
           { 
              title: "Iru Mugan (2016) Tamil", 
            description: "", 
            categories: ["recent", "action",], 
            rank: 0, 
            image: "irumugan.jpeg", 
            telegramLink: "https://tnseries.com/8EpwgK"
           },
             { 
              title: " Tamil Rockerz (2022) S01 EP (01-08) [Tamil + Telugu + Hindi + Malayalam + Kannada]", 
            description: "", 
            categories: ["recent", "webseries", ], 
            rank: 0, 
            image: "tamilrockers.jpeg", 
            telegramLink: "https://tnseries.com/nzrjz4v5"
           },
           { 
              title: "Wedding Impossible (2025) S01 EP (01-12)", 
            description: "", 
            categories: ["recent", "webseries", "romance","comedy"], 
            rank: 0, 
            image: "wedding impossible.jpeg", 
            telegramLink: "https://t.me/movie_downloads_channel/link_for_ace"
           },
           { 
              title: "The Lost Bus (2025) English", 
            description: "", 
            categories: ["recent", "thriller", "top10"], 
            rank: 0, 
            image: "lost bus.jpeg", 
            telegramLink: "https://t.me/movie_downloads_channel/link_for_ace"
           },
           { 
              title: "The Conjuring: Last Rites (2025) (UHD + Original Audios)", 
            description: "", 
            categories: ["recent", "horror", "top10"], 
            rank: 0, 
            image: "conjuring last riles.jpeg", 
            telegramLink: "https://tnseries.com/PXgvvb"
           },
           { 
              title: "Kantara A Legend: Chapter 1 (2025) Tamil HQ PreDVD", 
            description: "", 
            categories: ["recent", "action", ], 
            rank: 0, 
            image: "kantara.jpeg", 
            telegramLink: "https://tnseries.com/4p8vT"
           },
           { 
              title: "Idli Kadai (2025) Tamil HQ PreDVD", 
            description: "", 
            categories: ["recent", "action", ], 
            rank: 0, 
            image: "itli kadai.jpeg", 
            telegramLink: "https://tnseries.com/U9e8hRi"
           },
           { 
              title: "Gandhi Kannadi (2025) Tamil", 
            description: "", 
            categories: ["recent", "comedy", ], 
            rank: 0, 
            image: "gandhi kannadi.jpeg", 
            telegramLink: "https://tnseries.com/HDD6eGx"
           },
           { 
              title: "House Mates (2025)", 
            description: "", 
            categories: ["recent", "horror", "comedy",], 
            rank: 0, 
            image: "house mates.jpeg", 
            telegramLink: "https://tnseries.com/PAHfl"
           },
            { 
              title: "Death Note Season 1 Tamil ", 
            description: "", 
            categories: ["anime" ], 
            rank: 0, 
            image: "deathnote.jpeg", 
            telegramLink: "https://tnseries.com/3R03aow"
           },
           { 
              title: "Naruto Shippuden Tamil", 
            description: "", 
            categories: ["anime",], 
            rank: 0, 
            image: "naruto sip.jpeg", 
            telegramLink: "https://tnseries.com/XTlpt87"
           },
            { 
              title: "Dr. STONE - Season 1 (2019) Tamil", 
            description: "", 
            categories: ["anime" ], 
            rank: 0, 
            image: "dr.stone.jpeg", 
            telegramLink: "https://tnseries.com/LuH0HUc"
           },
           { 
              title: "Naruto", 
            description: "", 
            categories: ["anime" ], 
            rank: 0, 
            image: "naruto.jpeg", 
            telegramLink: "https://tnseries.com/aSzlvtgl"
           },
           { 
              title: "Attack On Titan Tamil", 
            description: "", 
            categories: ["anime" ], 
            rank: 0, 
            image: "attack on titan.jpeg", 
            telegramLink: "https://tnseries.com/XhmoE"
           },
           { 
              title: "Dr. STONE - Season 2 Stone Wars (2021) Tamil", 
            description: "", 
            categories: ["anime" ], 
            rank: 0, 
            image: "drstone2.jpeg", 
            telegramLink: "https://tnseries.com/LuH0HUc"
           },
            { 
              title: "spy x family Season 1 EP(01-25) Tamil ", 
            description: "", 
            categories: ["anime" ], 
            rank: 0, 
            image: "spyfamily.jpeg", 
            telegramLink: "https://tnseries.com/5UrGFEed"
           },
            { 
              title: "Dr. STONE - Season 3 New World (2023) Tamil", 
            description: "", 
            categories: ["anime" ], 
            rank: 0, 
            image: "drstone3.jpeg", 
            telegramLink: "https://tnseries.com/LuH0HUc"
           },
            { 
              title: "spy x family Season 2 EP(01-12) Tamil ", 
            description: "", 
            categories: ["anime" ], 
            rank: 0, 
            image: "spyfamily.jpeg", 
            telegramLink: "https://tnseries.com/5UrGFEed"
           },
           { 
              title: "Solo levelling Season 1 and 2  Tamil ", 
            description: "", 
            categories: ["anime" ], 
            rank: 0, 
            image: "sololeveling.jpeg", 
            telegramLink: "https://tnseries.com/5UrGFEed"
           },
            { 
              title: "Dr. STONE - Season 4 (2025) Tamil", 
            description: "", 
            categories: ["anime" ], 
            rank: 0, 
            image: "drstone4.jpeg", 
            telegramLink: "https://tnseries.com/LuH0HUc"
           },
           { 
              title: "Ben 10 Classic Season 1", 
            description: "", 
            categories: ["cartoon"], 
            rank: 0, 
            image: "ben10s1.jpeg", 
            telegramLink: "https://tnseries.com/LmO2F"
           },
           { 
              title: "Ben 10 Classic Season 2", 
            description: "", 
            categories: ["cartoon", ], 
            rank: 0, 
            image: "ben10s2.jpeg", 
            telegramLink: "https://tnseries.com/rxossuic"
           },
           { 
              title: "Ben 10 Classic Season 3", 
            description: "", 
            categories: ["cartoon", ], 
            rank: 0, 
            image: "ben10s3.jpeg", 
            telegramLink: "https://tnseries.com/Vf5hXqzq"
           },
           { 
              title: "Ben 10 Classic Season 4", 
            description: "", 
            categories: ["cartoon", ], 
            rank: 0, 
            image: "ben10s4.jpeg", 
            telegramLink: "https://tnseries.com/TAwPuq"
           },
           { 
              title: "Krishna and Balaram season 1", 
            description: "", 
            categories: ["cartoon", ], 
            rank: 0, 
            image: "krishna.jpeg", 
            telegramLink: "https://tnseries.com/8G38ccI"
           },
           { 
              title: "Krishna and Balaram season 2", 
            description: "", 
            categories: ["cartoon",], 
            rank: 0, 
            image: "krishna.jpeg", 
            telegramLink: "https://tnseries.com/sZbrn7C"
           },
           { 
              title: "Krishna Brith Tamil", 
            description: "", 
            categories: ["cartoon"], 
            rank: 0, 
            image: "krishna birth.jpeg", 
            telegramLink: "https://tnseries.com/5Gxu3"
           },
           { 
              title: "Krishna Makhan chor", 
            description: "", 
            categories: ["cartoon",], 
            rank: 0, 
            image: "krishna chor.jpeg", 
            telegramLink: "https://tnseries.com/ZQg38wq"
           },
           { 
              title: "Krishna in Vrindavan", 
            description: "", 
            categories: ["cartoon", ], 
            rank: 0, 
            image: "vrindavan.jpeg", 
            telegramLink: "https://tnseries.com/tkfn"
           },
           { 
              title: "Krishna and Balaram Kalavakra ", 
            description: "", 
            categories: ["cartoon",], 
            rank: 0, 
            image: "kalvakra.jpeg", 
            telegramLink: "https://tnseries.com/Rpfri"
           },
           { 
              title: "Krishna and Balaram the warrior Princess", 
            description: "", 
            categories: ["cartoon", ], 
            rank: 0, 
            image: "warrior.jpeg", 
            telegramLink: "https://tnseries.com/rd5KP"
           },
           { 
              title: "Office S01 EP (01-100) Tamil", 
            description: "", 
            categories: ["webseries", "comedy",], 
            rank: 0, 
            image: "office s1.jpeg", 
            telegramLink: "https://tnseries.com/T3g9zeq"
           },
           { 
              title: "Vilangu (2023) S01 EP (01-08) Tamil", 
            description: "", 
            categories: ["webseries", "thriller",], 
            rank: 0, 
            image: "vilangu.jpeg", 
            telegramLink: "https://tnseries.com/kaGM"
           },
           { 
              title: "Vadhandhi: The Fable of Velonie (2022) S01 EP (01-08) Tamil", 
            description: "", 
            categories: ["webseries", "thriller", ], 
            rank: 0, 
            image: "vadhandhi.jpeg", 
            telegramLink: "https://tnseries.com/qOb3nQ"
           },
           { 
              title: "Suzhal (2022) Tamil S01 EP (01-08)", 
            description: "", 
            categories: ["webseries", "thriller", ], 
            rank: 0, 
            image: "suzhal.jpeg", 
            telegramLink: "https://tnseries.com/yrKODx"
           },
           { 
              title: "Suzhal (2022) Tamil S02 EP (01-08)", 
            description: "", 
            categories: ["webseries", "thriller",], 
            rank: 0, 
            image: "suzhal2.jpeg", 
            telegramLink: "https://tnseries.com/yrKODx"
           },
            { 
              title: "Haikyu!! Season 1,2,3 Tamil ", 
            description: "", 
            categories: ["anime" ], 
            rank: 0, 
            image: "haikyuii.jpeg", 
            telegramLink: "https://tnseries.com/RL6ap5g"
           },
           
        ];
        // --- End of Movie Data Array ---

        const categories = [
            { key:'top10', label:'⭐ Top 10 Today' },
            { key:'recent', label:'🔥 Recent Releases' },
            { key:'movies', label:'🎬 Full Movies' },
            { key:'action', label:'💥 Action Thrillers' },
            { key:'comedy', label:'😂 Family Comedies' },
            { key:'romance', label:'💖 Romance Dramas' },
            { key:'thriller', label:'🕵️ Crime Thriller' },
            { key:'webseries', label:'📺 Webseries' },
            { key:'anime', label:'🎌 Anime' },
            { key:'cartoon', label:'👶 Cartoons' },
            { key:'horror', label:'👻 Horror' }
        ];

        const views = ['home-page','search-page','download-page'];

        // Helper function to create a movie item element
        function createMovieItem(movie, isTop10, rank){
            const link=document.createElement('a');
            link.href="#"; link.className=isTop10?'top-10-item':'movie-item';
            link.onclick=(e)=>{e.preventDefault();openDownloadPage(movie);};
            const imgSrc=IMAGE_BASE_URL+movie.image;
            link.innerHTML=isTop10?
                `<span class="top-10-number">${rank}</span><img src="${imgSrc}" class="${isTop10 ? 'top-10-poster' : 'poster'}">`:
                `<img src="${imgSrc}" class="poster">`;
            return link;
        }

        // Renders content for specific category tabs (Movies, Anime, Cartoon, Webseries)
        function renderCategoryView(keys) {
            const contentDiv = document.getElementById('movie-content');
            contentDiv.innerHTML = '';
           
            keys.forEach(key => {
                const cat = categories.find(c => c.key === key);
                const catLabel = cat ? cat.label : (key === 'anime' ? '🏯 Anime' : (key === 'cartoon' ? '📺 Cartoons' : (key === 'webseries' ? '🎬 Webseries' : null)));
                if (!catLabel) return;

                let catMovies = movies.filter(m => m.categories.includes(key));
                if (key === 'top10') catMovies = catMovies.filter(m => m.rank > 0).sort((a, b) => a.rank - b.rank);
               
                // For a dedicated view, we render a larger grid if there are many items
                const isDedicatedView = keys.length === 1;

                if (catMovies.length) {
                    const sec = document.createElement('section');
                    sec.className = 'movie-row';
                    sec.innerHTML = `<h2 class='row-title'>${catLabel}</h2>`;

                    const list = document.createElement('div');
                    list.className = 'movie-list';
                   
                    // If it's a dedicated category view, use a grid layout instead of horizontal scroll for better browsing
                    if(isDedicatedView && catMovies.length > 5){
                        list.className = ''; // Remove movie-list class to disable scroll
                        list.style.display = 'grid';
                        list.style.gridTemplateColumns = 'repeat(auto-fill, minmax(110px, 1fr))';
                        list.style.gap = '15px 10px';
                        list.style.padding = '10px 10px';
                       
                        catMovies.forEach((m, i) => {
                            const item = document.createElement('a');
                            item.href = '#';
                            item.className = 'search-result-item'; // Reusing search styles for grid display
                            item.onclick = (e) => { e.preventDefault(); openDownloadPage(m); };
                            item.innerHTML = `<img src="${IMAGE_BASE_URL + m.image}" class="poster"><span>${m.title}</span>`;
                            list.appendChild(item);
                        });
                    } else {
                        // Use horizontal scroll for rows (Top 10, Recent, etc.)
                        catMovies.forEach((m, i) => list.appendChild(createMovieItem(m, key === 'top10', m.rank || i + 1)));
                    }

                    sec.appendChild(list);
                    contentDiv.appendChild(sec);
                }
            });
        }

        // Renders the default 'Home' view (Hero + all main categories)
        function renderHomePage(){
            const contentDiv=document.getElementById('movie-content');
            contentDiv.innerHTML='';
           
            // 1. Render Hero Section
            const featuredMovie=movies.find(m=>m.rank===1);
            const heroSection=document.createElement('section');
            heroSection.id='hero-section';
            if(featuredMovie){
                heroSection.style.backgroundImage=`url('${IMAGE_BASE_URL+featuredMovie.image}')`;
                heroSection.innerHTML=`
                    <div class="hero-content">
                        <p>#${featuredMovie.rank} in Movies Today</p>
                        <h1>${featuredMovie.title}</h1>
                        <div class="hero-buttons">
                            <a href="#" class="hero-btn play-btn" onclick="event.preventDefault();openDownloadPage(movies.find(m=>m.rank===1))">
                                <i class="material-icons">download</i> Get Link
                            </a>
                            <a href="#" class="hero-btn info-btn" onclick="event.preventDefault();alert('${featuredMovie.description}')">
                                <i class="material-icons">info_outline</i> Info
                            </a>
                        </div>
                    </div>`;
            }
            contentDiv.appendChild(heroSection);
           
            // 2. Render all main category rows
            // Use only the primary categories for the Home view rows
            const homeCategories = ['top10', 'recent', 'action', 'comedy', 'horror', 'thriller'];
           
            homeCategories.forEach(key=>{
                const cat = categories.find(c => c.key === key);
                if (!cat) return;
               
                let catMovies=movies.filter(m=>m.categories.includes(cat.key));
                if (key === 'top10') catMovies = catMovies.filter(m => m.rank > 0).sort((a, b) => a.rank - b.rank);

                if(catMovies.length){
                    const row=document.createElement('section');
                    row.className='movie-row';
                    row.innerHTML=`<h2 class='row-title'>${cat.label}</h2>`;
                    const list=document.createElement('div'); list.className='movie-list';
                    catMovies.forEach((m,i)=>list.appendChild(createMovieItem(m,cat.key==='top10',m.rank||i+1)));
                    row.appendChild(list);
                    contentDiv.appendChild(row);
                }
            });
        }

        // Central View Router
        function showView(viewId, navCategory='home') {
            // Hide all views, then show the current one
            views.forEach(id => document.getElementById(id).style.display = (id===viewId)?'block':'none');
           
            if (viewId === 'home-page') {
                if (navCategory === 'home') {
                    renderHomePage();
                } else if (navCategory === 'movies') {
                    // Movies view: Show key movie categories
                    renderCategoryView(['movies', 'top10', 'recent', 'action', 'comedy', 'romance', 'thriller']);
                } else if (navCategory === 'anime') {
                    // Anime view: Dedicated anime content
                    renderCategoryView(['anime']);
                } else if (navCategory === 'cartoon') {
                    // Cartoon view: Dedicated cartoon content
                    renderCategoryView(['cartoon']);
                } else if (navCategory === 'webseries') {
                    // Webseries view: Dedicated webseries content
                    renderCategoryView(['webseries']);
                }
            } else if (viewId === 'search-page'){
                document.getElementById('search-input').value = '';
                filterMovies();
            }
           
            // Set active state for bottom navigation item
            document.querySelectorAll('.nav-item').forEach(item=>{
                item.classList.remove('active');
                if(item.getAttribute('data-nav-category')===navCategory) item.classList.add('active');
            });
        }

        function openDownloadPage(movie){
            showView('download-page','none'); // Use 'none' to prevent nav highlight
            document.getElementById('download-movie-img').src=IMAGE_BASE_URL+movie.image;
            document.getElementById('download-movie-name').textContent=movie.title;
            document.getElementById('download-movie-desc').textContent=movie.description;
            document.getElementById('download-movie-btn').href=movie.telegramLink;
        }

        function renderSearchResults(results){
            const div=document.getElementById('search-results');
            div.innerHTML='';
            results.forEach(movie=>{
                const item=document.createElement('a');
                item.href='#'; item.className='search-result-item';
                item.onclick=(e)=>{e.preventDefault();openDownloadPage(movie);};
                item.innerHTML=`<img src="${IMAGE_BASE_URL+movie.image}" class="poster"><span>${movie.title}</span>`;
                div.appendChild(item);
            });
        }

        function filterMovies(){
            const s=document.getElementById('search-input').value.toLowerCase();
            const f=movies.filter(m=>m.title.toLowerCase().includes(s)||m.description.toLowerCase().includes(s));
            renderSearchResults(f);
        }

        document.addEventListener('DOMContentLoaded',()=>{
            // Attach event listeners for bottom navigation
            document.querySelectorAll('.bottom-nav .nav-item').forEach(item=>{
                item.addEventListener('click',(e)=>{
                    e.preventDefault();
                    const view=item.getAttribute('data-view');
                    const cat=item.getAttribute('data-nav-category');
                    if(view) showView(view,cat);
                });
            });

            // Search input listener
            const search=document.getElementById('search-input');
            if(search) search.addEventListener('input',filterMovies);

            // Initial load
            showView('home-page','home');
        });
    </script>
</body>
</html>
